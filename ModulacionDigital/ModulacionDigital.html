<html>

<head>

  <meta charset="UTF-8">
  <meta name="robots" content="noindex">

  <title>GUI Modulación Digital</title>
  <script src="jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" type="text/css">
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <script language="JavaScript" src="bootstrap/js/bootstrap.min.js"></script>
  <script language="JavaScript" src="js/codigo.js"></script>

  <script>
    $(document).ready(function () {
      $('.solo-numero-binario').keyup(function () {
        this.value = (this.value + '').replace(/[^0-1]/g, '');
      });
    });
  </script>

</head>

<body class="bg-light">
  <nav class="navbar navbar-expand-sm navbar-light bg-primary">
    <a class="navbar-brand" href="#">Modulación Digital</a>
    <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId"
      aria-controls="collapsibleNavId" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavId">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item active">
          <a class="nav-link" href="">
            <i class="fa fa-home"></i> Inicio<span class="sr-only"></span>
          </a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="#" onclick="lanzarModalAlumno();">
            <i class="fa fa-user"></i> Alumno <span class="sr-only"></span>
          </a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="#" onclick="lanzarModalAjustes();">
            <i class="fas fa-cogs"></i> Ajustes <span class="sr-only"></span>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container  col-sm-12 bg-light text-dark">
    <div class="row">
      <div class="col-sm-12 mt-1">
        <div class="form-row justify-content-left">
          <label for="" class="col-sm-2 mt-2">Cadena a Procesar: </label>
          <div class="col-sm-3">
            <input type="text" id="idCadena" value="" maxlength="27" class="form-control solo-numero-binario"
              placeholder="Ej.: 0011010">
          </div>
          <div class="col-sm-1">
            <button type="button" class="btn btn-primary mt-1" onclick="GenerarBinarioAutomaticamente();">
              <i class="fas fa-pencil-alt" aria-hidden="true" title="Generar un binario aleatorio de 15 digitos"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-sm-12">
        <div class="form-row justify-content-left">
          <label for="" class="col-sm-2 mt-2">Modo de Proceso: </label>
          <div class="col-sm-3">
            <select name="nSelectTipoProceso" class="custom-select" id="idSelectTipoProceso"
              onchange="HabilitarBotonesYLimpiar();">
              <option value="Todo">Procesar de una vez</option>
              <option value="PasoAPaso">Paso a Paso</option>
            </select>
          </div>

          <div class="col-sm-1">
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-2 mb-2" style="text-align: center;">
      <div class="col-sm-6">
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('ASK');">ASK</button>
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('2ASK');">2-ASK</button>
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('FSK');">FSK</button>
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('PSK');">PSK</button>
      </div>
    </div>

    <div class="row mt-2 mb-2" style="text-align: center;">
      <div class="col-sm-6">
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('4PSK');">4-PSK</button>
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('QPSK');">QPSK</button>
        <button type="button" class="btn btn-outline-primary" onclick="ObtenerCodificacion('8QAM');">8-QAM</button>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 mt-1">
        <div class="form-row justify-content-left">
          <label for="" class="col-sm-4 mt-1"><b>SEÑAL PORTADORA</b></label>
        </div>
      </div>
    </div>

    <div class="row">
      <canvas id="cPortadora" width="900" height="260"></canvas>
    </div>

    <div class="row">
      <div class="col-sm-12 mt-1">
        <div class="form-row justify-content-left">
          <label for="" class="col-sm-4 mt-2"><b>SEÑAL MODULADA</b> <strong id="idTipoModulacion"></strong></label>
        </div>
      </div>
    </div>

    <div class="row">
      <canvas id="c" width="900" height="260"></canvas>
    </div>

    <div class="row">
      <div class="col">
        <div class="collapse multi-collapse" id="idPanelPasoAPaso">
          <div class="row">
            <div class="col-12">
              <div class="form-row justify-content-left">
                <button type="button" class="btn btn-primary mt-1 mr-4" onclick="ObtenerCodificacionPasoAPaso();">
                  <i class="fas fa-play-circle" aria-hidden="true" title="Procesar"></i>
                </button>

                <button type="button" class="btn btn-primary mt-1" onclick="RestablecerPasoAPaso();">
                  <i class="fas fa-undo-alt" aria-hidden="true" title="Volver a Empezar"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="row" id="idRowResultados">
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">

        <div id="idDivImagen4PSK" class="form-row justify-content-center d-none">
          <label class="col-12" for=""><strong>Diagrama de Constelacion</strong></label>
          <img src="images/4PSK_Constelacion.PNG" class="img-thumbnail" alt="Diagrama Constelación 4-PSK">
        </div>

        <div id="idDivImagenQPSK" class="form-row justify-content-center d-none">
          <label class="col-12" for=""><strong>Diagrama de Constelacion</strong></label>
          <img src="images/QPSK_Constelacion.png" class="img-thumbnail" alt="Diagrama Constelación QPSK">
        </div>

        <div id="idDivImagen8QAM" class="form-row justify-content-center d-none">
          <label class="col-12" for=""><strong>Diagrama de Constelacion</strong></label>
          <img src="images/8QAM_Constelacion.PNG" class="img-thumbnail" alt="Diagrama Constelación 8-QAM">
        </div>

      </div>
    </div>

  </div>

  <div id="divMisModales"></div>

  <script id="scriptModales">
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function () {
      document.getElementById("divMisModales").innerHTML = xmlhttp.responseText;
    }
    xmlhttp.open("GET", "Modales.html", true);
    xmlhttp.send();
  </script>

  <script>
    var arrayUbicacionTexto = [
      "65,15",
      "160,15",
      "250,15",
      "340,15",
      "430,15",
      "520,15",
      "610,15",
      "700,15",
      "790,15",
      "895,15"
    ]

    //datos de señal modulada
    var c = document.getElementById("c");
    var ctx = c.getContext("2d");

    var cw = c.width = 900,
      cx = cw / 2;
    var ch = c.height = 260,
      cy = ch / 2;
    var rad = Math.PI / 180;

    var coordsOffset = 20;
    var amplitude = 100;
    var frequence = Math.PI / 180 * 0.034;
    var phi = Math.PI / 180 * 0.00 * rad;

    ctx.textAlign = "center";
    ctx.font = "16px Verdana";
    ctx.fillStyle = "black";
    ctx.lineWidth = 10;


    //datos de señal portadora
    var cPortadora = document.getElementById("cPortadora");
    var ctxPortadora = cPortadora.getContext("2d");

    ctxPortadora.textAlign = "center";
    ctxPortadora.font = "16px Verdana";
    ctxPortadora.fillStyle = "red";
    ctxPortadora.lineWidth = 10;

    LimpiarCanvas();
  </script>

</body>

</html>